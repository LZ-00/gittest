
<!DOCTYPE html>
<html lang="zh-CN">
<head>
 <meta name="viewport" content="width=device-width, initial-scale=1" />
<meta HTTP-EQUIV="pragma" CONTENT="no-cache"> 
<meta HTTP-EQUIV="Cache-Control" CONTENT="no-cache, must-revalidate"> 
<meta HTTP-EQUIV="expires" CONTENT="0"> 
<title>EP2-知识点 | Blog</title>	

<link rel="stylesheet" href="https://lz-00.github.io/blog/styles/main.css">
<script type="text/javascript">
function getCSS()
{
        datetoday = new Date();
        timenow=datetoday.getTime();
        datetoday.setTime(timenow);
        thehour = datetoday.getHours();

            display = "https://lz-00.github.io/blog/media/css/night.css";

            display = "https://lz-00.github.io/blog/media/css/night.css";   
      
            display = "https://lz-00.github.io/blog/media/css/day.css";

            display = "https://lz-00.github.io/blog/media/css/day.css";
      

var css = '<';
        css+='link rel="stylesheet" href='+display+' \/';
        css+='>';
        document.write(css);
}
</script>
<link href="https://fonts.googleapis.com/css?family=Dancing+Script|Noto+Sans+SC:300|Montserrat&display=swap" rel="stylesheet">
<link href="https://at.alicdn.com/t/font_1306644_jwtuc2zzbrd.css" rel="stylesheet" />
<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<script type='text/javascript' src='https://lz-00.github.io/blog/media/scripts/script.js'></script>
<link href="https://cdn.bootcss.com/animate.css/3.5.2/animate.min.css" rel="stylesheet" />
  <script src="https://cdn.bootcss.com/wow/1.1.2/wow.min.js"></script>
  <script src="https://cdn.bootcss.com/highlight.js/9.15.8/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <script>wow=new WOW({boxClass:'wow',animateClass:'animated',offset:0,mobile:true,live:true});wow.init();</script>

<script type="text/javascript">
window.onload=getCSS();
</script>


 	
</head>
<body class="post-template-default single single-post postid-70 single-format-standard">
    <div id="wrapper">
        
			
		<header id="header" class="site-header" 
		
		>
			<div class="site-branding">
									<h1 class="site-title"><a href="https://lz-00.github.io/blog" rel="home">Blog</a></h1>
										
					<h2 class="site-description">一起成长，一起记录</h2>
										
							</div>
			<nav id="nav-wrapper">
				<div class="container">
					<div class="nav-toggle">
						<div class="bars">
							<div class="bar"></div>
							<div class="bar"></div>
							<div class="bar"></div>
						</div>
					</div>
					<div class="clear"></div>
					<ul id="" class="dove">
		 
     			
<li>
	 
	<a  href="https://lz-00.github.io/blog"> 首页</a></li>
	
    
     			
<li>
	 
	<a  href="https://lz-00.github.io/blog/archives"> 归档</a></li>
	
    
     			
<li>
	 
	<a  href="https://lz-00.github.io/blog/tags"> 标签</a></li>
	
    
     			
<li>
	 
	<a  href="https://lz-00.github.io/blog/post/about"> 关于</a></li>
	
    

</ul>
</li>		
		
</ul>				</div>
			</nav>
						<div class="jingge">


    

    

    

    

    

    

    

    

    

    

    

    
        </header>

		<div id="content" class="container">
			<div class="row">
	<div class="col-md-8 site-main">
				
<article id="post-70" class="post-70 post type-post status-publish format-standard hentry category-5 tag-10 tag-9 tag-11">

	
	                      
		<div class="entry-content">
			<h1 class="wow swing entry-title">EP2-知识点</h1>
<div class="entry-meta">
<div class="wow bounce">
	<i class="iconfont icon-rili"> <time class="lately-a" datetime="2021-04-26 12:35:39" itemprop="datePublished" pubdate="">2021-04-26</time></i>
	          </div>
			
</span>
													 
		</div>
                  
			<div class="wow slideInLeft entry-summary song">
				<h1 id="传统网络">传统网络</h1>
<h2 id="物理层">物理层</h2>
<h2 id="数据链路层">数据链路层</h2>
<ol>
<li>ARP的请求报文是广播报文，应答报文是一对一的（单播）。</li>
<li>封装ARP报文的以太网帧类型字段应为：0x0806。</li>
</ol>
<h2 id="网络层">网络层</h2>
<ol>
<li>RIPv2报文为组播报文，组播地址为224.0.0.9。</li>
<li>能隔离广播域的网元设备是路由器。</li>
</ol>
<h2 id="运输层">运输层</h2>
<ol>
<li>TCP协议保证所传送的信息是正确的，IP协议负责信息的实际传送。</li>
<li>UDP报文头部的字段包括：源端口号、目标端口号、数据报长度和校验值。</li>
</ol>
<h2 id="应用层">应用层</h2>
<ol>
<li>
<p>FTP服务一般运行在20和21两个端口。端口<strong>20</strong>用于在客户端和服务器之间<strong>传输数据流</strong>，而端口<strong>21</strong>用于<strong>传输控制流</strong>，并且是命令通向ftp服务器的进口。</p>
</li>
<li>
<p>TFTP协议是基于UDP协议的。它的端口号是<strong>69</strong>。</p>
</li>
<li>
<p>RIP协议是用UDP协议来封装的。</p>
</li>
<li>
<p><strong>DNS</strong>默认端口号为<strong>53</strong>。</p>
</li>
</ol>
<h1 id="云网络">云网络</h1>
<h2 id="sdn">SDN</h2>
<ol>
<li>
<p>OpoenDaylight使用Java编写</p>
</li>
<li>
<p>Scapy使用Python编写</p>
</li>
<li>
<p>ONOS与 OpenDaylight是SDN模型中的控制器。</p>
</li>
<li>
<p>SDN交换机基于流表实现转发。</p>
</li>
<li>
<p>OpenFlow协议是基于TCP协议</p>
</li>
<li>
<p>ONOS的核心功能包括分布式核心平台、北向接口抽象层/APIs、南向接口抽象层/APIs、软件模块化。</p>
</li>
<li>
<p><strong>OVSDB协议</strong>对应的侦听端口是<strong>6640</strong>.</p>
</li>
<li>
<p>当<strong>iPerf</strong>不指定-p时，服务器端使用的或客户端所连接的默认端口是<strong>5001</strong>。</p>
</li>
<li>
<p>sFlow Collector安装启动后的默认监听端口是<strong>6343</strong>。</p>
</li>
<li>
<p>OpenDaylight默认启动的监听端口号是<strong>6633</strong>。</p>
</li>
<li>
<p>Netperf默认使用TCP传输层协议。</p>
</li>
<li>
<p>通过Hello消息协商双方的OpenFlow版本号。</p>
</li>
<li>
<p>组类型：指定组的动作，分为all、select、indirect、fast failover四种。</p>
</li>
<li>
<p>OpenFlow交换机由流表、安全通道和OpenFlow协议三部分组成。</p>
</li>
<li>
<p>OpenFlow网络由OpenFlow交换机、网络虚拟化层和控制器三部分组成。</p>
</li>
<li>
<p>在OpenFlow v1.3流表处理过程中，多个flow tables是依次排列的，序号从0开始。</p>
</li>
<li>
<p>OF1.3协议中的交换机含有多个流表，每个流表中含有多个流表项，每个流表项包含多个匹配项及对应的指令。</p>
</li>
<li>
<p><strong>idle_time</strong>和<strong>hard_time</strong>给出了该流表项的生存时间，其中idle_time表示当这条流表项在这段时间内没有匹配到数据分组，则该流表项失效，hard_time表示自流表项下发后只要过了这段时间即刻失效；两者同时设置时，以先到的生存时间为准；两者同时为0时，流表项不会自动失效。</p>
</li>
<li>
<p>流表由很多个流表项组成，每个流表项就是一个转发规则。</p>
</li>
<li>
<p>流表项由3个基本要素组成：<strong>头字段、计数器和行动。</strong></p>
</li>
<li>
<p>利用CAR进行流量控制的处理：</p>
<ul>
<li>根据预先设置的匹配规则来对报文进行分类，如果是没有规定流量特性的报文，就直接继续发送，并不需要经过令牌桶的处理。</li>
</ul>
</li>
<li>
<p>ovs-vsctl list sflow可以查看已经配置的 sFlow Agent信息。</p>
</li>
<li>
<p>odl-netconf-connector-all不是安装L2Switch项目必需的组件。</p>
</li>
<li>
<p>PCEP使用TCP传输机制，TCP端口号为<strong>4189</strong></p>
</li>
<li>
<p>单点对单点的intents：在外部路由器和SDN BGP  Speakers之间建立BGP对等会话使用单向intents。每个intents在SDN网络中连接两个连接点。每个连接点包含以下信息：SDN交换机的DPID、交换机Port和连接的BGP Speaker路由器的MAC地址。</p>
</li>
<li>
<p>Ganglia监控工具监控粒度为1分钟。</p>
</li>
<li>
<p>QoS是网络的一种安全机制，是用来解决网络延迟和阻塞等问题的一种技术。</p>
</li>
<li>
<p>当IPv4被作为GRE有效载荷传输时，<strong>协议类型字段</strong>被设置为<strong>0x0800</strong>。</p>
</li>
<li>
<p><strong>Scapy</strong>的命令：</p>
<ul>
<li>lsc()：查看scapy支持的所有的命令。</li>
<li>send：在第三层即网络层发送数据包，但没有接收功能。</li>
<li>sendp：在第二层即数据链路层发送数据包，同样没有接收功能。</li>
</ul>
</li>
<li>
<p>L2 Switch项目包含的服务包括地址跟踪、ARP处理器、主机跟踪、消除环路、包处理以及流表下发（主服务）等。</p>
</li>
<li>
<p>OpenFlow流表的包头域，用于对交换机接收到的数据包的包头内容进行匹配。流表的包头域中包括了12个元组，不包括out_port。</p>
</li>
<li>
<p>可以通过Packet-in/Packet-out发现交换机之间的链路</p>
</li>
<li>
<figure data-type="image" tabindex="1"><img src="https://cdn.jsdelivr.net/gh/LZ-00/picgo/img/20210424170820.png" alt="img" loading="lazy"></figure>
<ul>
<li>SDN控制器构造PacketOut消息向S3的所有端口分别发送LLDP数据包。</li>
<li>控制器向交换机S3中下发流表，流表规则为：将从Controller端口收到的LLDP数据包从他的对应端口发送出去。</li>
<li>控制器向交换机S4中下发流表，流表规则为：将从非Controller接收到LLDP数据包发送给控制器。</li>
<li>通过以上三步，控制器只能发现h1与h2之间的单向链路。\</li>
</ul>
</li>
<li>
<p>OpenDaylight采用了MD-SAL作为控制器平台服务层和南向接口及协议插件层的中间适配层，以实现北向接口与南向接口的解耦，保证南北向接口独立发展，互不影响。</p>
</li>
<li>
<p>OVSDB子项目主要包含Northbound模块、Plugin模块和OVSDB  Library模块，其中北向Northbound模块可供外部APP调用，Plugin模块主要包含api、impl、internal和error等程序包，其中api程序包主要提供OVSDB的连接、增删改查等服务，impl包中的类是其接口的实现。南向OVSDB Library通过OVSDB协议与外部通信，进行OVSDB的管理。</p>
</li>
<li>
<p>VXLAN网络理论上支持多达16M（即：2^24-1）的租户隔离。</p>
</li>
<li>
<p>OpenFlow主要有3种类型的消息，分别是Controller-to-Switch、Asynchronous（异步）和Symmetric（对称）</p>
<ul>
<li>Controller-to-Switch包括Features 、Configuration 、Modify-State 、Read-Stats 、Send-Packet和Barrier</li>
<li>异步包括Error 、Packet-in 、Flow-Removed和Port-Status</li>
<li>对称包括Hello 、Echo 和Vendor</li>
</ul>
</li>
<li>
<p>斯坦福大学的Nick McKeown教授和Scott Shenker教授以及Martin Casado博士在硅谷一起创办了Nicira Networks公司，这是SDN历史上第一个初创公司，也是SDN从学术圈走向工业界的标志。</p>
</li>
<li>
<p>P4协议支持可编程数据平面。OPenFlow协议不支持</p>
</li>
<li>
<p>addLink()语法可以设置带宽bw、延迟delay、最大队列的大小max_queue_size、损耗率loss。addHost()语法可以对主机CPU以百分数的形式进行设置。</p>
</li>
<li>
<p>Mininet中--switch参数默认使用ovsk交换机。</p>
</li>
<li>
<p>OpenFlow（OF）被认为是第一个软件定义网络（SDN）标准。它最初在SDN环境中定义了通信协议，使SDN控制器能够与物理和虚拟的交换机和路由器等网络设备的转发平面直接进行交互，从而更好地适应不断变化的业务需求。</p>
</li>
<li>
<p>Pipeline是OpenFlow交换机中实现matcing、forwarding和packet修改的flow table流水线。</p>
</li>
<li>
<p>计量表项由计量表项ID、计量带、计数器三个要素构成。</p>
</li>
<li>
<p>OpenFlow交换机定义了三种类型的OpenFlow Ports：physical ports（物理端口）、logical ports（逻辑端口）和reserved ports（预留端口），统称为标准端口。</p>
</li>
<li>
<p>P4的目标是成为协议无关性（Protocol Independent）、目标无关性（Target Independent）、现场可重配置（Field Reconfigurable）的语言。</p>
</li>
<li>
<p>在AD-SAL中，南北向API是1：1的对应关系，同一API无法被复用。所有南北向Plugin的功能都需要定义相应的AD-SAL API来承载，造成AD-SAL模块会更加庞大、实现更为复杂、维护困难性增加。</p>
</li>
<li>
<p>L2Switch项目包含以下几个部分：Packet Handler 、Loop Remover 、Arp Handler 、Address Tracker、Host Tracker、L2 Switch Main</p>
</li>
<li>
<p>NETCONF中定义了三种消息类型，分别是hello， rpc和rpc-reply, notification。</p>
</li>
</ol>
<h2 id="云网络-2">云网络</h2>
<ol>
<li>Linux的磁盘分区包括主分区、逻辑分区、扩展分区和交换分区。</li>
</ol>
<h2 id="云存储">云存储</h2>
<ol>
<li>
<p>Bigtable由客户端程序库、一个主服务器和多个子表服务器组成。</p>
<figure data-type="image" tabindex="2"><img src="https://cdn.jsdelivr.net/gh/LZ-00/picgo/img/20210425122417.png" alt="Bigtable架构图" loading="lazy"></figure>
</li>
<li></li>
</ol>
<h2 id="云平台">云平台</h2>
<ol>
<li>OpenStack高可用架构通常有3个控制节点。</li>
<li>Keystone是 OpenStack 框架中负责管理身份验证、服务规则和服务令牌功能的模块。用户访问资源需要验证用户的身份与权限，服务执行操作也需要进行权限检测，这些都需要通过 Keystone 来处理。</li>
</ol>
<h2 id="网络虚拟化">网络虚拟化</h2>
<ol>
<li>虚拟网络是指虚拟机和虚拟机、虚拟机和物理机之间的网络，这个网络需要承载在物理网络之上。</li>
<li>虚拟终端是网络定义的一种统一的终端格式，它定义了统一的字符集、终端命令、格式控制符等等，和网络虚拟化没有关系。</li>
<li>一个网络中最多只可以有4096个VLAN。</li>
<li>OpenStack中，端口是指交换设备（物理/虚拟）上的一个接口。</li>
<li>Libvirt是在KVM和虚拟机之间的一个中间层，不是KVM的一部分。</li>
</ol>
<h2 id="c4_ep2">C4_EP2</h2>
<ol>
<li>负载均衡请求不均衡可能有以下几种原因:1.ECS实例请求连接数较少。2. 不同ECS实例的性能不同导致请求不均衡。3. 开启了会话保持功能。4.ECS健康检查异常。5. TCP Keepalive 保持长连接。</li>
<li>使用阿里云的负载均衡SLB实例时，合理的会话保持配置可以实现与某个连接(Session)相关的所有应用请求能够由同一台后端云服务器ECS实例进行处理，维持业务的延续性。四层服务的会话保持是基于_________实现的。
<ul>
<li>四层服务的会话保持是基于源IP实现的，七层服务的会话保持是基于 Cookie 实现的。</li>
</ul>
</li>
<li>在阿里云专有网络VPC创建后，路由器也是随着VPC一起自动创建的，所以不需要手动创建了。这个 时候需要继续创建交换机才能在交换机中创建其他云产品。</li>
<li>流量转发四层是通过LVS实现，七层是通过 Tengine 实现</li>
<li>在负载均衡SLB中，可以通过 X-Forwarded-For 的方式获取访问者真实IP</li>
<li>实现不同地域的多个负载均衡SLB的负载，需要通过DNS轮询来实现</li>
<li>负载均衡只支持 PEM 格式的证书。</li>
<li>一个负载均衡实例最多支持添加 50个监听，每个监听配置对应后端ECS实例上的一个应用。您可以通过对后端ECS实例上的多个应用配置不同主机头的方式来满足这一需求
<ul>
<li>(企业购买了一个负载均衡SLB实例，该实例下挂载了多台云服务器ECS实例，每个ECS实例上都部署了多个不同的站点，并使用不同域名访问。现在负载均衡SLB实例可以通过配置 _主机头____来实现对同一台ECS实 例上不同站点的健康检查。)</li>
</ul>
</li>
<li>当用户流量经过负载均衡某端口时，我们首先判断其是否能够匹配  上某条“转发规则”，如果匹配，则将流量转发到该规则的后端服务器组上;若不匹配并且在该监听上设置了虚  拟服务器组，那么将流量转发到该虚拟服务器组上;若用户没有在该监听上设置虚拟服务器组，即将流量转发 到实例级别添加的各后端服务器中。</li>
<li>使用阿里云的负载均衡SLB实例时，可以通过健康检查来判断后端云服务器ECS实例的可用性。针对 7 层服 务(HTTP协议)，负载均衡SLB实例通过____来判断云服务器ECS实例是否可用。
<ul>
<li>四层是检查端口，七层是检查服务器端返回的状态码。</li>
</ul>
</li>
<li>打通您的VPC与传统数据中心，所以需要基于公网的 VPN 或者专线。</li>
</ol>
<!-- more -->

							</div>
	<div class="wow bounceInDown vt-post-tags">
 
				<a href="https://lz-00.github.io/blog/tag/network/" rel="tag">网络</a>	
				 
					</div>						
<nav class="navigation3 post-navigation3" role="navigation">
		
		<div class="nav-links3">
      
		 
		<div class="wow bounceInRight nav-next3"><a href="https://lz-00.github.io/blog/post/rabbitmq/" rel="next"> rabbitmq</a></div>
		
		</div>
	</nav>
	<div class="wow rollIn author-info" style="visibility: visible; animation-name: rollIn;">
	<div class="author-avatar pull-left"><img src="https://lz-00.github.io/blog/images/avatar.png" ></div>
 
	<div class="author-description"><div class="author-title"><div class="author-link" rel="author">lz</div></div>


	<p class="author-bio">一起成长，一起记录</p></div></div>
	
		</div>
		
 
		
</article>

<div id="marlin_lite_about_widget-2" class="wow bounceInUp widget marlin_lite_about_widget" data-wow-delay="0.1s">
		
        
		<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src='https://lz-00.github.io/blog/media/scripts/Valine.min.js'></script>

<div class="comment"></div>
<script>
        new Valine({
            // AV 对象来自上面引入av-min.js(老司机们不要开车➳♡゛扎心了老铁)
            av: AV, 
            el: '.comment',
            lang: 'zh-cn',
            
            
      emoticon_list: ["吐.png","喷血.png","狂汗.png","不说话.png","汗.png","坐等.png","献花.png","不高兴.png","中刀.png","害羞.png","皱眉.png","小眼睛.png","中指.png","尴尬.png","瞅你.png","想一想.png","中枪.png","得意.png","肿包.png","扇耳光.png","亲亲.png","惊喜.png","脸红.png","无所谓.png","便便.png","愤怒.png","蜡烛.png","献黄瓜.png","内伤.png","投降.png","观察.png","看不见.png","击掌.png","抠鼻.png","邪恶.png","看热闹.png","口水.png","抽烟.png","锁眉.png","装大款.png","吐舌.png","无奈.png","长草.png","赞一个.png","呲牙.png","无语.png","阴暗.png","不出所料.png","咽气.png","期待.png","高兴.png","吐血倒地.png","哭泣.png","欢呼.png","黑线.png","喜极而泣.png","喷水.png","深思.png","鼓掌.png","暗地观察.png"],
     	
      	
          
        });
    </script> 


   
  
 

		</div>

			</div>
			


<div class="tocc col l3 hide-on-med-and-down">
	
        <div class="toc-widget">
			
            <div class="toc-title"></div>
			
            <div id="toc-content">
			
			
			</div>
        </div>
    </div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.5.0/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '.entry-summary',
            headingsOffset: -($(window).height() * 0.4 - 45),
            // headingsOffset: -205,
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('.entry-summary').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });
    });
</script>										 

 
       


			</div>
		</div>

		
		 	<footer id="colophon" class="site-footer">

			<div class="container">
	
				<div class="copyright">Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a><br>Theme:   <a href="https://github.com/alterfang/gridea-theme-pan" target="_blank" title="Pan"><span>Pan</span></a>. Powered by <a href="https://gridea.dev/" target="_blank" title="Gridea"><span>Gridea</span></a></div>		
			</div>
		
		</footer>

</div>

<script src="https://cdn.bootcss.com/fitvids/1.2.0/jquery.fitvids.min.js"></script>
<script type='text/javascript' src='https://lz-00.github.io/blog/media/scripts/marlin-scripts.js'></script>
 <script src="//tokinx.github.io/lately/lately.min.js"></script>
  <script>jQuery(document).ready(function(){$.lately({'target':'.lately-a,.lately-b,.lately-c'})});</script>
  <style type="text/css">a.back_to_top {
    text-decoration: none;
    position: fixed;
    bottom: 40px;
    right: 30px;
    background: #f0f0f0;
    height: 40px;
    width: 40px;
    border-radius: 50%;
    line-height: 36px;
    font-size: 18px;
    text-align: center;
    transition-duration: .5s;
    transition-propety: background-color;
    display: none;
}

a.back_to_top span {
    color: #888;
}

a.back_to_top:hover {
    cursor: pointer;
    background: #dfdfdf;
}

a.back_to_top:hover span {
    color: #555;
}

@media print, screen and (max-width: 580px) {
    .back_to_top {
        display: none !important;
    }
}



</style><a id="back_to_top" href="#" class="back_to_top"><span><i class="iconfont icon-xiangshang"></i></span>
</a>


<script>$(document).ready((function(_this) {
  return function() {
    var bt;
    bt = $('#back_to_top');
    if ($(document).width() > 480) {
      $(window).scroll(function() {
        var st;
        st = $(window).scrollTop();
        if (st > 30) {
          return bt.css('display', 'block');
        } else {
          return bt.css('display', 'none');
        }
      });
      return bt.click(function() {
        $('body,html').animate({
          scrollTop: 0
        }, 800);
        return false;
      });
    }
  };
})(this));
</script>

		<script data-no-instant>
    (function ($) {
        $.extend({
            adamsOverload: function () {
                $('.navigation:eq(0)').remove();
                $("").attr("rel" , "external");
                $("a[rel='external'],a[rel='external nofollow']").attr("target","_blank");
                $("a.vi").attr("rel" , "");
                $.viewImage({
                    'target'  : 'img',
                    'exclude' : '.vsmile-icons img,.gallery img',
                    'delay'   : 300
                });
                $.lately({
                    'target' : '.commentmetadata a,.infos time,.post-list time'
                });
                prettyPrint();
                
                $('ul.links li a').each(function(){
                    if($(this).parent().find('.bg').length==0){
                        $(this).parent().append('<!---<div class="bg" style="background-image:url(https://c3.glgoo.top/s2/favicons?domain='+$(this).attr("href")+')"></div>--->')
                    }
                });
            }
        });
    })(jQuery);
    jQuery.adamsOverload();
</script>

</body>
</html>
